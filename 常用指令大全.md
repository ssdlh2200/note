- **英文**
  - https://tldr.inbrowser.app/
  
  - https://explainshell.com/
  
- **中文**

  - https://man.niaoge.com/

  - https://linuxcommand.p2hp.com/

# 系统

- 重启：reboot

# 用户

- 切换root用户：sudo su

- 更改用户密码：sudo passwd [用户]

## 远程登录

- 安装ssh：sudo apt-get install openssh-server
- ssh配置文件：/etc/ssh/sshd_config
- 重启服务：systemctl restart sshd

# 网络

- 网络配置文件位置：/etc/netplan/00-installer-config.yaml
  - 主机网卡名称是：ens33
- 重启网络：netplan apply
- 查看ip：ip address

## 防火墙

- 服务名称：firewall

### ubuntu

- 查看防火墙状态：sudo ufw status
  - 关闭：inactive
  - 开启：active
- 关闭防火墙：sudo ufw disable
- 开放指定端口号：sudo ufw allow 端口号

# 文件管理

## 文件移动或者改名-mv

- mv [选项] <源文件/目录名> <目标文件/目录名>

| 选项        | 说明                                     |
| :---------- | :--------------------------------------- |
| `-b`        | 覆盖前为目标文件创建备份                 |
| `-v`        | 显示执行过程详细信息                     |
| `-f`        | 强制覆盖目标文件而不询问                 |
| `-Z`        | 设置文件安全上下文                       |
| `-i`        | 覆盖目标文件前询问用户是否确认           |
| `--help`    | 显示帮助信息                             |
| `-n`        | 不要覆盖已有文件                         |
| `--version` | 显示版本信息                             |
| `-u`        | 当源文件比目标文件更新时，才执行覆盖操作 |

## **文件批量重命名**-rename





## 目录

- 显示当前所在目录：pwd

## 文件夹

- 创建文件夹

  - 单个：mkdir folder

  - 多个：mkdir folder1 folder2

  - 多级：mkdir -p folder1/folder2

- 删除

  - 文件夹为空：rmdir 文件夹名字

  - 文件夹不为空：rm -r 文件夹名字

- 移动同时修改文件名：mv [文件夹名称] [目的地文件夹]

  - 目的文件夹存在：仅仅移动

    目的文件夹不存在：移动并且改名

## 文件

### 压缩/解压文件

- 解压：tar -zxvf filename.tar.gz

### 下载文件

- 更新软件源：

  - sudo apt-get update

    sudo apt-get upgrade

- 安装wget：sudo yum install wget

- 下载软件：wget [optional] [url]

  - optional
    - -O otherName：将下载的文件保存为指定的名字otherName
    - -P dir：指定目录

### 删除文件

- rm filenam

### 执行文件

- ./filename （当我们使用ls命令发现文件后面有*时，代表是可执行文件）

# 进程

##　Linux

- 查看当前运行进程 ps [optional]
  - 查看所有进程 -e
  - 查看用户进程 aux
- 查看每个进程的CPU使用情况：htop
- 查看进程中线程：ps -H -eo pid,tid,%cpu | grep xxx进程编号

## Windows

- 根据端口号查找进程：netstat -ano | findstr 8080
- 杀死进程：taskkill -PID 8080 -F
  - -F：强制关闭



# 服务

## 通用

- 开启服务：systemctl start [servername]
- 关闭服务：systemctl stop [servername]
- 查看状态：systemctl status [servername]
- 重启服务：systemctl restart [servername]
- 开机重启：systemctl enable [servername]

## RabbitMQ

- 服务名称：rabbitmq-server

- 网页版插件
  - 启动：rabbitmq-plugins enable rabbitmq_management
    关闭：rabbitmq-plugins disable rabbitmq_management

- 查看队列：rabbitmqctl list_queues

- 查看环境变量：rabbitmgctl environment

- 查看交换机：rabbitmqctl list_exchanges

- 查看未被确认的队列：rabbitmgctl list_queues name messages_unacknowledged

- 查看用户：rabbitmqctl list_users

- 查看单个队列的内存使用：rabbitmgctl list_queues name memory

- 查看连接：rabbitmgctl list_connections

- 查看准备就绪的队列：rabbitmgctl list_queues name messages_ready

- 查看消费者信息：rabbitmgctl list consumers

- 消息追踪

  - 开启Firehose命令：rabbitmqctl trace_on -p [virtual host]

    关闭Firehose命令：rabbitmqctl trace_off -p [virtual host]

  - 启用插件：rabbitmq-plugins enable rabbitmq_tracing

## SpringCloud

### Nacos

- 启动
  - 默认以集群方式启动：sh ../nacos/bin/startup.sh
  
    单机方式启动：sh ../nacos/bin/startuo.sh -m standalone
  
    默认账号密码：nacos
    

## Docker

### 是否安装

- 查询docker版本查看是否安装：docker -v

### 数据卷

- 创建数据卷：docker volume create 数据卷名字
- 查看所有数据卷：docker volume ls
- 查看指定数据卷：docker volume inspect 数据卷名字
- 查看容器绑定的数据卷：docker inspect 容器名字
- 删除数据卷：docker volume rm 数据卷名字
- 清除无主数据卷：docker volume prune

### 镜像相关命令

- 查看本地所有镜像：docker images

- 查看本地特定镜像：id docker images -q

- 网站搜索镜像：docker search redis

- 网站拉取镜像

  - 拉取最新版本：docker pull redis 

    拉取特定版本：docker pull redis:3.2

- 删除镜像

  - docker rmi [IMAGE ID]

    docker rmi redis:3.2

- 删除所有镜像

  - docker images -q查看所有id

    docker rmi `docker images -q`

### 容器相关命令

- 查看容器：
  - 运行中容器：docker ps
  - 所有容器：docker ps -a

- 进入容器：docker exec -it 容器名字 /bin/bash

- 启动容器：docker start 容器名字
- 退出容器：exit
- 关闭容器：docker stop 容器名字
- 删除容器：docker rm 容器名字/容器id(可以同时删除多个）
- 查看容器信息：docker inspect 容器名称

### 文件

- 将容器内文件复制到容器外：dokcer cp 容器名字:文件 目录

## MySQL

- 连接远程数据库：mysql -h192.168.0.0 -P3306 -uroot -proot

### 存储引擎

- 查看mysql提供的存储引擎：show engines;

  - 查看默认的存储引擎：show variables like '%storage_engine%';

    ​					SELECT @@default_storage_engine;

- 查看数据存储路径：show variables like 'datadir'

### 查看mysql系统变量

- 查看sql_model：SELECT @@GLOBAL.sql_mode;

​				     show VARIABLES LIKE 'sql_mode';

- 查看mysql：版本

## Redis

- 连接远程redis：redis-cli -h 192.168.0.0 -p 6379 -a "password"
  - 有时候会有中文乱码，要在 redis-cli 后面加上 --raw
- 测试连接是否成功：ping

### key相关

- 查看keys所有指令：help keys
- 所有key列表：keys *
- key的数量：dbsize
- 剩余时间：ttl key
- 设置过期时间：expire
- 删除key：del key key1 key2
- 查看具体key：get key
- 判断key是否存在：exists key

## Java

- 运行class类文件：java xxx类文件名字

## 打包jar包

- jar -cvf xxx.jar xxx.class（必须制定jar包名称）
- 打包package内的classes（以org.ssdlh.Hello为例）
  - jar -cvf xxx.jar org/ssdlh/Hello.class

## 查看进程id

- jps

## 调试工具

- jstack 进程id
- jmap -heap 进程id
- jconsole
- jvisualvm
- arthas（阿里开源）
- Jprofile（国外收费）

### 查看虚拟机运行信息

- jinfo -flag MetaspaceSize 

# Vim操作

## 退出

- 退出前先按`Esc`进入输入模式
- 保留改变退出：`:wq`并按Enter
- 放弃改变退出：`:q!`并按Enter

## 查找模式

- 输入 `/` 进入查找模式，输入单词 /word 并按Enter进行匹配
- N：查找下一个
- Shift+N：查找上一个
-  

# Git

- 设置用户名：git config --global user.name "ssdlh"

- 设置邮箱：git config --global user.email "254431047@qq.com"

- 查看用户名：git config --global user.name

- 查看密码：git config --global user.email

- 配置ssh免密登录

  - 生成密钥：ssh-keygen -t rsa -C "2544310147@qq.com"

    查看密钥：cat ~/.ssh/id_rsa.pub

    测试通信：ssh -T git@gitee.com

## 文件状态

1. 未跟踪（Untracked）：最初新建的文件未跟踪状态
2. 已跟踪（Tracked）：使用git add将文件添加到暂存区后变为已跟踪
3. 已修改（Modified）：对已经跟踪的文件修改后会变为已修改状态，还未添加到暂存区
4. 已暂存（Staged）：使用git add将已修改的文件添加到暂存区
5. 已提交（Committed）：将暂存区提交到本地仓库，文件返回已跟踪状态

## 提交流程

### 1. init

- 初始化一个本地仓库

### 2. add（工作区->暂存区）

- git add [选项] <文件路径或者目录>
- 常用选项
  - `-A` 或者 `-all`：添加所有变化（包括修改、删除、未跟踪文件）
  - `.`：添加当前目录下所有变化
  - `-u`：只添加已跟踪文件的修改和删除，不添加新文件
- 常用命令
  - `git add .`：添加当前目录所有文件到暂存区
  - `git add 文档.txt`：添加文档.txt到暂存区

### 3. commit（暂存区->本地仓库）

- git commit [选项]  -m "需要提交的信息"

- 常用选项
  - 
- git commit
- git commit

# 正则表达式





| 字符 | 匹配                     | 示例              |
| ---- | ------------------------ | ----------------- |
| .    | 任意单个字符，除换行符外 | java ==> jav.     |
| [ ]  | [ ] 中的任意一个字符     | java ==> j[abc]va |
| - | [ ] 内表示字符范围 | java ===> [a-z]av[a-g] |
| *    | 零次或多次匹配前面的字符或子表达式。例如，zo* 匹配"z"和"zoo"。* 等效于 {0,}。 |                        |
|      |                    |                      |

