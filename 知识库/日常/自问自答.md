# 广场

964267122

## Java中object header（对象头）和monitor的关系

首先java中每个对象都有一个object header，其中object header包含

- mark word 和 klass pointer
  - mark word记录当前对象的信息，哈希码，锁信息，gc标记等
  - klass pointer就是指向当前对象的类型的指针



# 问答

## 讲一下java中的线程

java中的线程运行的基本逻辑是通过thread类和runnable接口来运行，thread类负责线程的生命周期，比如：线程创建，运行，销毁等，而runnbale接口则负责任务逻辑的编写

java的线程使用（也就是创建），大体可以分成2类，也就是有无返回值
1. 无返回值
    - 1.我们一般通过继承thread类，重写run方法来创建线程。2.我们也可以通过实现runnable接口然后将其对象交给线程或者线程池运行
2. 有返回值
    - 1.当我们需要返回值时，就要将callable封装为futuretask对象，然后交给线程或者线程池运行。2.runnable封装未futuretask对象要设置默认返回值

## 讲一下java中的synchronized

java中的synchronized是获取锁，当我们使用synchronized获取获锁时候，如果该锁已经升级为重量级锁

1. 那么首先会找到该所的对象头，通过对象头找到关联monitor
2. 找到monitor后会检查该monitor的owner是否被其他线程持有
   1. 如果持有则进入entrylist等待获取锁的释放
   2. 如果没有则获取该锁

当然我们获取锁之后也可以主动释放该锁，通过调用wait方法，则持有锁的线程会进入waitset中等待唤醒



### 讲一下java中的对象头（等待）

### 讲一下锁的升级过程（等待）

### 讲一下对象头和monitor的关系（等待）





## 讲一下run方法和start方法





