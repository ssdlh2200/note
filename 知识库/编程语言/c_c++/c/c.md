# c
## 声明、初始化
- **声明**：告诉编译器“我要使用一个类型为 `struct Person` 的变量”，但没有给它任何初始值。
    `struct Person person1; // 只是声明`
    在这种情况下：
    - 如果变量是 **局部变量（函数内部）**，它的内容是 **未定义的**（里面是垃圾值）。        
    - 如果变量是 **全局变量或静态变量**，它会被 **自动初始化为 0**（`name` 全部为 `\0`，`age` 为 0，`height` 为 0.0）。
- **初始化**：给变量一个确定的初始值。
- **声明 ≠ 初始化**
- 局部变量不会自动清零，值是未定义的。    
- 全局变量或静态变量会自动初始化为 0。

## 内存模型
C程序执行时，内存大致划分为4个区域
- 代码区：存放函数体二进制代码，操作系统管理
- 全局区：存放全局变量、静态变量、常量
- 栈区：编译器自动分配和释放， 函数参数值、局部变量
- 堆区：程序员分配和释放
### 全局区
全局变量和静态变量对比

|特性|全局变量|静态变量|
|---|---|---|
|定义位置|函数外部|函数内部或函数外部加 `static`|
|生命周期|整个程序运行期间|整个程序运行期间|
|作用域|全程序（其他文件可 `extern`）|局部或文件内（受 `static` 限制）|
|存储位置|全局/静态区|全局/静态区|
|默认初始化|0|0|
|是否可隐藏|❌|✅（可隐藏作用域）|
### 栈区
```c
#include <stdio.h>  
int* add()  
{  
    int a = 10;  
#pragma  
    return &a;  
}  
  
int main(void)  
{  
    int* result = add();  
    printf("%d\n", *result);  
    printf("%d\n", *result);  
    getchar();  
    return 0;  
}
```
在反汇编中，可以看到，return &a 的汇编代码是 mov exa, 0 当我们后续想要访问0地址时，程序发生了错误
```c
Process finished with exit code -1073741819 (0xC0000005)
```
是 **Windows 系统特有的错误码**，0xC0000005 表示 **“访问违规（Access Violation）”**。也就是说，程序尝试访问了 **不允许访问的内存地址**

### 堆区
