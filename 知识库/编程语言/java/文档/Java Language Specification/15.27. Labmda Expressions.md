# Lambda Expressions
## 1. lambdaè¡¨è¾¾å¼ä½¿ç”¨

é€šå¸¸åŠ ä¸Š@FunctionalInterfaceè¡¨ç¤ºæ—¶å‡½æ•°å¼æ¥å£
```java
@FunctionalInterface
interface Function{  
    void f();  
}  
static void foo(Function f){  
    f.f(); // æ‰§è¡Œlambdaè¡¨è¾¾å¼  
}  
public static void main(String[] args) {  
    foo(() -> {  
        System.out.println("execute lambda expression");  
    });  
}
```

## 2. lambdaè¡¨è¾¾å¼å˜é‡
**captured variableï¼ˆæ•è·çš„å˜é‡ï¼‰**
lambdaè¡¨è¾¾å¼ä¸­ captured variable å¿…é¡»æ˜¯ final æˆ–è€… effectively finalçš„
captured variableé€šå¸¸æ˜¯æˆå‘˜å˜é‡æˆ–è€…æ–¹æ³•å‚æ•°
1. å±€éƒ¨å˜é‡
```java
int x = 10;  //lambdaå¤–å£°æ˜
foo(() -> {  
    System.out.println(x); //æ•è·äº†x
});

```
2. æ–¹æ³•å‚æ•°
```java
static void m(int y){
    //å‚æ•°yåœ¨lambdaå¤–
    foo(() -> {  
        System.out.println(y); //æ•è·äº†y
    });  
}
```
æ¥è‡ªæ–‡æ¡£ä¸­çš„effectively finalä¾‹å­ğŸ“
```java
void m1(int x) {
    int y = 1;
    foo(() -> x+y);
    // Legal: x and y are both effectively final.
}

void m2(int x) {
    int y;
    y = 1;
    foo(() -> x+y);
    // Legal: x and y are both effectively final.
}

void m3(int x) {
    int y;
    if (...) y = 1;
    foo(() -> x+y);
    // Illegal: y is effectively final, but not definitely assigned.
}

void m4(int x) {
    int y;
    if (...) y = 1; else y = 2;
    foo(() -> x+y);
    // Legal: x and y are both effectively final.
}
void m5(int x) {
    int y;
    if (...) y = 1;
    y = 2;
    foo(() -> x+y);
    // Illegal: y is not effectively final.
}
void m6(int x) {
    foo(() -> x+1);
    x++;
    // Illegal: x is not effectively final.
}

void m7(int x) {
    foo(() -> x=1);
    // Illegal: x is not effectively final.
}

void m8() {
    int y;
    foo(() -> y=1);
    // Illegal: y is not definitely assigned before the lambda.
}

void m9(String[] arr) {
    for (String s : arr) {
        foo(() -> s);
        // Legal: s is effectively final
        // (it is a new variable on each iteration)
    }
}

void m10(String[] arr) {
    for (int i = 0; i < arr.length; i++) {
        foo(() -> arr[i]);
        // Illegal: i is not effectively final
        // (it is not final, and is incremented)
    }
}

```
**æˆå‘˜å˜é‡/é™æ€å˜é‡/è‡ªèº«ä½œç”¨åŸŸå†…å˜é‡**
å¯¹äºæˆå‘˜å˜é‡ã€é™æ€å˜é‡ã€è‡ªèº«ä½œç”¨åŸŸå†…å˜é‡åˆ™ä¸éœ€è¦finalæˆ–è€…effectively final
```java
public class Test {  
    int x = 10;  
    static int y = 20;  
    void f(){  
        foo(() -> {  
            int z = 0;  
            x = 10;//åˆæ³•
            y = 20;//åˆæ³•
            z = 30;//åˆæ³•
        });  
    }  
}
```